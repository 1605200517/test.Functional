<?xml version="1.0" encoding="UTF-8"?>
<con:soapui-project activeEnvironment="Default" name="BackendDeviceManagement" resourceRoot="" soapui-version="5.2.1" abortOnError="false" runType="SEQUENTIAL" id="ae2e4e63-3830-474d-9555-84076e0af2e3" xmlns:con="http://eviware.com/soapui/config"><con:settings/><con:interface xsi:type="con:RestService" wadlVersion="http://wadl.dev.java.net/2009/02" name="BackendDeviceManagement_Services" type="rest" id="62e6bda2-8ff1-44e9-9f0d-2ff30b09ba02" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:settings/><con:definitionCache type="TEXT" rootPart=""/><con:endpoints><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint></con:endpoints><con:resource name="services" path="/iot/services" id="991241ab-2ad3-4671-9476-78d7536d82b1"><con:settings/><con:parameters/><con:method name="Retrieve a service" id="323f296b-94e9-49d5-8bbe-c36e2ba8a355" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>504</con:status><con:params/><con:element>html</con:element></con:representation></con:method><con:method name="Create a service" id="bcbd0d1e-4474-4ec3-961b-5e3665dd5da5" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 409</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>201</con:status><con:params/><con:element>Response</con:element></con:representation></con:method><con:method name="Update Service" id="f309ff4b-ca58-46f1-bb89-7992c8fb3589" method="PUT"><con:settings/><con:parameters><con:parameter><con:name>apikey</con:name><con:value>apikey</con:value><con:style>QUERY</con:style><con:default>apikey</con:default></con:parameter><con:parameter><con:name>resource</con:name><con:value>resource</con:value><con:style>QUERY</con:style><con:default>resource</con:default></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation></con:method><con:method name="Delete Service" id="f309ff4b-ca58-46f1-bb89-7992c8fb3589" method="DELETE"><con:settings/><con:parameters><con:parameter><con:name>apikey</con:name><con:value>apikey</con:value><con:style>QUERY</con:style><con:default>apikey</con:default></con:parameter><con:parameter><con:name>resource</con:name><con:value>resource</con:value><con:style>QUERY</con:style><con:default>resource</con:default></con:parameter></con:parameters><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Fault</con:element></con:representation></con:method></con:resource><con:resource name="devices" path="/iot/devices" id="c06d0cd3-e5f0-4560-a58e-297032e8795c"><con:settings/><con:parameters/><con:resource name="{device}" path="/{device}" id="2178e2e6-3401-41af-b60d-93266ff4c652"><con:settings/><con:parameters><con:parameter><con:name>device</con:name><con:value>device</con:value><con:style>TEMPLATE</con:style><con:default>device</con:default></con:parameter></con:parameters><con:method name="Retrieve a device" id="5c51bf8c-0d0c-4eec-a3c9-b5a8d62feaa9" method="GET"><con:settings/><con:parameters/><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400 404</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>504</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Response</con:element></con:representation></con:method><con:method name="Update device" id="0a233bfb-da10-4301-b961-38471febd075" method="PUT"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation></con:method><con:method name="Delete device" id="b8fb3006-bfde-492f-9a80-42513ea0a2a8" method="DELETE"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>204</con:status><con:params/><con:element>data</con:element></con:representation></con:method></con:resource><con:method name="Retrieve all devices" id="2c484d6b-ef58-47b7-9e5a-2eb95d1911bc" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Response</con:element></con:representation></con:method><con:method name="Create a device" id="2ad95d7d-cff8-469c-9750-fc2f6327caca" method="POST"><con:settings/><con:parameters/><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>201</con:status><con:params/><con:element>Response</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>409 400</con:status><con:params/><con:element xmlns:dev="http://217.172.12.209/iot/devices">dev:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType xsi:nil="true"/><con:status>0</con:status><con:params/><con:element>data</con:element></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>504</con:status><con:params/><con:element>html</con:element></con:representation></con:method></con:resource><con:resource name="about" path="/iot/about" id="bebb6927-797b-4499-b736-86e4eaf30c2b"><con:settings/><con:parameters/><con:method name="Checking the administrative interface is up" id="46b10156-e1f4-43b5-9368-2e69a2f861d7" method="GET"><con:settings/><con:parameters/><con:representation type="RESPONSE"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/><con:element xmlns:ser="http://161.27.159.147/iot/services">ser:Response</con:element></con:representation></con:method></con:resource><con:resource name="d" path="/iot/d" id="6c8f562f-899c-444d-b751-5c1fd5696748"><con:settings/><con:parameters/><con:method name="Sending a single measure with GET requests" id="a3a08054-0dc6-4b73-a49d-71d99f176c64" method="GET"><con:settings/><con:parameters><con:parameter><con:name>i</con:name><con:value>MQTT_2</con:value><con:style>QUERY</con:style><con:default>MQTT_2</con:default></con:parameter><con:parameter><con:name>k</con:name><con:value>1234</con:value><con:style>QUERY</con:style><con:default>1234</con:default></con:parameter><con:parameter><con:name>d</con:name><con:value>a|23</con:value><con:style>QUERY</con:style><con:default>a|23</con:default></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element>html</con:element></con:representation><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>404</con:status><con:params/><con:element xmlns:d="http://217.172.12.209/iot/d">d:Fault</con:element></con:representation><con:representation type="RESPONSE"><con:mediaType>text/html; charset=utf-8</con:mediaType><con:status>200</con:status><con:params/></con:representation><con:representation type="FAULT"><con:mediaType>text/html</con:mediaType><con:status>504</con:status><con:params/><con:element>html</con:element></con:representation></con:method><con:method name="Sending a single measure with POST requests" id="fd6ab1fa-f2a8-4517-a67c-132dd7733ffa" method="POST"><con:settings/><con:parameters><con:parameter><con:name>i</con:name><con:value>MQTT_2</con:value><con:style>QUERY</con:style><con:default>MQTT_2</con:default></con:parameter><con:parameter><con:name>k</con:name><con:value>1234</con:value><con:style>QUERY</con:style><con:default>1234</con:default></con:parameter><con:parameter><con:name>Content-type</con:name><con:value>text/plain</con:value><con:style>QUERY</con:style><con:default>text/plain</con:default></con:parameter></con:parameters><con:representation type="FAULT"><con:mediaType>application/json; charset=utf-8</con:mediaType><con:status>400</con:status><con:params/><con:element xmlns:d="http://217.172.12.209/iot/d">d:Fault</con:element></con:representation><con:representation type="REQUEST"><con:mediaType>application/json</con:mediaType><con:params/></con:representation><con:representation type="REQUEST"><con:mediaType>text/xml</con:mediaType><con:params/></con:representation></con:method></con:resource><con:resource name="update" path="/update" id="399df536-c5de-4edf-b00a-4476f13378bf"><con:settings/><con:parameters/><con:method name="Send a callback to the backend" id="a57d21a8-41c2-4278-b7b3-ccc671c7592a" method="GET"><con:settings/><con:parameters><con:parameter><con:name>id</con:name><con:value>sigApp2</con:value><con:style>QUERY</con:style><con:default>sigApp2</con:default></con:parameter><con:parameter><con:name>time</con:name><con:value>1430909015</con:value><con:style>QUERY</con:style><con:default>1430909015</con:default></con:parameter><con:parameter><con:name>statin</con:name><con:value>0A5F</con:value><con:style>QUERY</con:style><con:default>0A5F</con:default></con:parameter><con:parameter><con:name>lng</con:name><con:value>-4</con:value><con:style>QUERY</con:style><con:default>-4</con:default></con:parameter><con:parameter><con:name>lat</con:name><con:value>41</con:value><con:style>QUERY</con:style><con:default>41</con:default></con:parameter><con:parameter><con:name>data</con:name><con:value>000000020000000000230c6f</con:value><con:style>QUERY</con:style><con:default>000000020000000000230c6f</con:default></con:parameter></con:parameters></con:method></con:resource></con:interface><con:testSuite name="TestSuite 1" id="cd66a748-c5d5-4536-b04a-2e77a8bcee38"><con:settings/><con:runType>SEQUENTIAL</con:runType><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.02" searchProperties="true" id="bba7010e-c682-49ca-9bf8-7b7f8152a512"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="2790878a-68e6-4f80-b8d9-c05f2535d161"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.03" searchProperties="true" id="9ff33c65-6e2e-4c89-8844-6bd1223542b7"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="2afaea29-95ab-4b23-859d-3ff5da53ed26"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="881867a6-e938-4cdc-94a3-3e206e06821d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/sigfoxDev",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "type": "SIGFOX",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="920810e0-a739-461b-af8c-1c20299e7bee"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="7bc6288f-c213-4486-98fd-f603e53968cd"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/sigfoxDev</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="8faffa22-4009-4d31-9bfe-c95379c97b62"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="7c0a4973-8568-4578-bf0f-2f4b0b3ea49b"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="0696fbd9-dede-457f-85ef-8eb27facfd34"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.04" searchProperties="true" id="80715905-f571-4343-9a12-30bedae1dd40"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="8f7419d5-6897-4df4-b74d-5a635fdbd26d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="1200189e-dcb7-40f2-b8e4-fd5bfa4e78a0"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/sigfoxDev",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "type": "SIGFOX",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="fbb69ddf-0ce7-482d-b7e6-77f57c321d8d"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="95e76ee9-4e3f-44ca-96fa-0f441d92c3b6"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/sigfoxDev</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="c6a8c523-b5bb-47b9-9a4e-e9cfdc0a41b0"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="1b388436-e599-4d2c-9eeb-2bd563f57b8d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="2a83b6fa-4a1b-4fe9-a5af-844918097e46"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.05" searchProperties="true" id="3c1b93a0-5ebf-487d-8606-adbfaeedb73e"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="36b4f673-ad3f-4781-9f8c-0c1dbb0975bb"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="dbca3371-d33b-4f81-ad79-e8f770b007c0"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/sigfoxDev",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "type": "SIGFOX",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="ffe7377c-8da8-4ac8-939e-58df80e3145d"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="a346d546-2d44-4a40-9f10-7cd3ba086fc2"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/sigfoxDev</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="3dbeabcc-1975-487b-88c2-07cefe40bf87"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="c36938af-c1fb-4f89-acbc-d3cb110c0452"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="73d8a373-4da4-4269-bcd8-b0592d021a8d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.06" searchProperties="true" id="26d99c8d-7571-453e-83e0-7e0a671a5926"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="feb99c70-a34c-46d2-b129-f812bf38e988"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.07" searchProperties="true" id="a2484708-6482-4689-b25b-52ab61ae2ef2"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="1f15f3f7-1509-4938-a1d4-273c89353dd4"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="faba0348-c084-4147-87af-2715bc623097"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="1ad144cd-971d-4d23-ada8-12e42cd7f941"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="da507d53-d7f2-49a6-9625-3cf99797e633"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="fdd985a8-1549-40e5-876a-7ecc8e5185f6"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="db9c2242-904f-4d7e-88e8-f9b919fcf58e"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="446ab85e-3097-4248-ae2d-9852d3f6a1b6"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.08" searchProperties="true" id="21537ab5-fed2-4f24-aa2b-e51f8e715714"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="93a94744-adc0-4a0f-a419-748ca3c31d63"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="d16430cf-4b47-42c4-95c6-dae2f2159df2"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="48852b88-a5d3-44c0-a609-520c751b9413"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="355fe704-9db3-4b2b-be5e-2e6b5283e456"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="74de5b99-829c-4207-a761-36a786f832fa"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="c8c9a58b-3e2e-461d-90b3-107ca35a2788"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="281c26d6-7ba3-4864-9f5a-23552c2d2c12"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.09" searchProperties="true" id="c943e1d3-8208-49ec-a88d-073ef0696aea"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="9f580199-2282-421a-8bfd-7b7e076c09b8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="a42173a4-4e85-4130-8565-518c446b51c1"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="5b4d69ea-db85-4a98-851b-b30ea2108f25"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="0d98e9ae-8b60-4231-ac7e-829fe9143f95"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="aa5f17ca-d237-4b7e-80e1-ba383ec1a85d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="211362a3-db65-4878-88a9-f47e70547a30"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="588dbd2a-3324-465c-a7e9-5974eaccdc1d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.10" searchProperties="true" id="50e26308-8d57-4d69-a96f-464cadc5eeef"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="ac6e79a7-0572-4443-a6eb-67c568571085"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="eaf3afab-6a2b-4a0e-a23b-69ad56c99c2e"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="201578c6-705e-43fa-ae15-89d482ae3585"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="c9edba1d-9d22-4eec-a78d-464257a0137e"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="d86f577a-7885-4661-abe3-5fc1e78b84ce"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="d680417a-0af6-441e-9d33-8203db3f161d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="faaaebca-8f52-4964-841a-7b8be2c43bb4"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/test"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.11" searchProperties="true" id="eca04dfb-2ed5-4527-a712-e6bbff14b847"><con:settings/><con:testStep type="restrequest" name="Sanity check" id="5de4fce8-b6af-498d-b780-a067eafb23df"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Checking the administrative interface is up" resourcePath="/iot/about" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sanity check" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.12" searchProperties="true" id="fc18b3b1-bcdd-4fc0-b09d-384b5650cefd"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="62f1465b-5dc1-4196-bd92-2563a9db4e9c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.13" searchProperties="true" id="ffed72f8-2d9d-4afe-a442-6a20a80fdfeb"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="a75f7537-087d-48ff-9a33-3368330bfdcc"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="20941d1c-9d53-4640-8910-d72f7024b8c7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/mqtt_ul",
		"apikey": "23HJK3Y9090DSFL173209HV8801231",
		"entity_type": "MQTT_UL",
		"trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a service 1" id="7a65fcfd-5663-4206-9109-667140b8b6a3"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service 1" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.14" searchProperties="true" id="4eb7aa99-428a-4ad8-a880-29ddf7edafff"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="d777bbbe-7af6-4715-8e01-f2d46ccccac1"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="359cf64b-e341-4992-91f0-fb055ff38d4d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/mqtt_ul",
		"apikey": "23HJK3Y9090DSFL173209HV8801231",
		"entity_type": "MQTT_UL",
		"trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="c497339a-3bfa-460a-855e-3d3e3950161d"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="d8e22847-6003-427b-91ac-14f8b606c815"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="28c2098e-1ac3-43b8-922c-ed8537d9b962"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="575c4639-2102-4250-91d1-e8bef2d3358e"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801232", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="d431d360-b472-4760-9487-192fad809c5a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.15" searchProperties="true" id="d03c4a54-34ae-4c20-8865-28dbb3430d21"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="57ec4f52-e4db-4c38-9b6b-77d183f72cd5"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="874dfd4d-e9df-424e-93a3-db4a12a6c49a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/mqtt_ul",
		"apikey": "23HJK3Y9090DSFL173209HV8801231",
		"entity_type": "MQTT_UL",
		"trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="ffff1956-6980-494b-a680-8c9959e02a29"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="829769d7-41f1-4be3-8184-8e1d914c1f6d"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="86e00479-48de-4d18-b605-843499a3b90d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="9b6780f3-c269-4fe5-9a83-d8e5f99d8632"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801232", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="f6e2504b-5d53-4dec-94d4-ca9b3b1c5944"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.16" searchProperties="true" id="4045f0bd-3a2b-4cfd-b9ce-ff5641d8e197"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="93edb2a6-7245-41f1-9184-b4c44366097a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="e35cdb50-4cdc-499a-a856-fcc8f7a28e79"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.17" searchProperties="true" id="99627731-b309-4bb5-8776-d99abc2425ef"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="f9298549-2a51-4300-b1c1-66e94aad23b7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="49a7aba9-5bdd-466a-b13a-cb3624e52bd2"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="19893a27-8a1e-4494-a590-3ee1076d48a3"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="e9ec0c1e-527e-433b-b824-731befd2213a"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="f0b3e906-e425-4340-bb6f-1f880bb5e164"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="e5490f51-3c37-46a7-9964-8f3f9ed6cd2a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.18" searchProperties="true" id="de4e86c3-4fe5-4569-b79f-a5cfec2de13f"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="84acf189-2473-4cd1-87cb-478c5823e411"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="9661ad8a-c70f-4c01-809e-2f7f6d81bbb2"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="95c95df9-6be0-46bf-83d2-73d6f6395efc"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="e0dbd1cf-1f22-4aa5-88ea-abd2719632e5"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="9520bca1-3ef7-48f8-acf1-f55f3f062b93"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a device" id="f917fa39-0107-4c61-829f-66f64c263106"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "attributes": [
        {
            "object_id": "t",
            "name": "temperature",
            "type": "float"
        },
        {
            "object_id": "h",
            "name": "humidity",
            "type": "float"
        },
        {
            "object_id": "p",
            "name": "pressure",
            "type": "float"
        }
    ],
    "lazy": [
        {
            "object_id": "l",
            "name": "luminosity",
            "type": "percentage"
        }
    ],
    "commands": [
        {
            "object_id": "t",
            "name": "turnKKKK",
            "type": "string"
        }
    ],
    "static_attributes": [
        {
            "name": "serialID",
            "type": "02598347"
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="c56c6959-9766-49c7-8081-dec60f05d5ae"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="30c88a90-41b6-4a6d-a96d-bf588c58420c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.19" searchProperties="true" id="7bfa1dd1-c2a7-4dc6-a8d8-52776dd7af6c"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="a5b60500-3066-47fe-824a-8eb0d8271988"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="eb0bad6e-f3f5-426f-bb9f-5e5e28e1f67b"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="bb40177c-4438-4a69-b45e-19cab437e99b"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="7c52321c-a342-49ba-af8c-506e8e81456c"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="79fa3c67-1a32-4752-9eea-fbbd8da2b675"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a device" id="f175b74b-a4bd-49b0-a334-fbd65b6057af"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "attributes": [
        {
            "object_id": "t",
            "name": "temperature",
            "type": "float"
        },
        {
            "object_id": "h",
            "name": "humidity",
            "type": "float"
        },
        {
            "object_id": "p",
            "name": "pressure",
            "type": "float"
        }
    ],
    "lazy": [
        {
            "object_id": "l",
            "name": "luminosity",
            "type": "percentage"
        }
    ],
    "commands": [
        {
            "object_id": "t",
            "name": "turnKKKK",
            "type": "string"
        }
    ],
    "static_attributes": [
        {
            "name": "serialID",
            "type": "02598347"
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="75609f2c-d4dd-485f-9211-4e6d4e13e8f7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="781de328-b8a8-4d83-9298-f32590ad778d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.20" searchProperties="true" id="e0dd6e01-d418-4c43-8fe9-3e8988e0e0e6"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="6de8ebb9-c7f0-4c05-9d6a-f6b6eb7096df"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="a30da4c1-e7f9-4e77-8bc3-c09d91b3954f"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="726d84ce-ae4d-4669-8394-010a3ad8c60e"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="0ff32a80-a42a-464a-a3c2-9c437986f609"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="e82d9f3b-33eb-4221-8fe0-4bab847ab9ef"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a device" id="b02108c7-c028-44e6-a7dc-f558645d2239"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "attributes": [
        {
            "object_id": "t",
            "name": "temperature",
            "type": "float"
        },
        {
            "object_id": "h",
            "name": "humidity",
            "type": "float"
        },
        {
            "object_id": "p",
            "name": "pressure",
            "type": "float"
        }
    ],
    "lazy": [
        {
            "object_id": "l",
            "name": "luminosity",
            "type": "percentage"
        }
    ],
    "commands": [
        {
            "object_id": "t",
            "name": "turnKKKK",
            "type": "string"
        }
    ],
    "static_attributes": [
        {
            "name": "serialID",
            "type": "02598347"
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="3c33f7c0-a0d5-436f-b77e-50b8930837e6"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="a52fa4fc-111a-416a-9b77-dfbbc205d5a9"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.21" searchProperties="true" id="67cbfd5e-794a-4906-b678-059fc16fc70b"><con:settings/><con:testStep type="restrequest" name="Sanity check" id="4e0f31f5-39d9-4b3a-ab14-afb40b8d6c30"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Checking the administrative interface is up" resourcePath="/iot/about" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.22" searchProperties="true" id="63bbdc7e-039f-4cab-be12-1181a886c6a7"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="4b659039-58d0-4018-9cb8-578b4e8e28e4"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.23" searchProperties="true" id="be88cfa0-45ba-487a-8ecd-678094c02ed6"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="4338e8e5-5dd2-4fdb-90ff-3a8e96107365"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="59bbe2d9-881c-4797-b4aa-c8139eec83fb"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/mqtt",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="77564177-44eb-4780-8db3-af01112b5610"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="3330075a-174b-425d-af59-ed0b2070dc32"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="f4b8a9af-127a-499a-8a0d-c4d4cd62dd8d"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="6eb96654-6754-48be-b0f0-e0a161e6119d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="9a5784fc-0738-45a0-aacb-ae53087976da"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.24" searchProperties="true" id="260d1ec1-a7d0-44f0-976b-805e2c4ba803"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="55e17a77-9203-4ba2-b184-9f015b74baae"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="58131241-e9bd-4feb-9a14-3401f93f8585"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/mqtt",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="77d1fefd-05bc-4cb6-9f37-eac4167e83f1"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="38dd75dc-7e4e-4578-9e6e-4161695dfeb8"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="d4f21a17-0df8-4a49-8d71-de164aa0e3be"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="84fd17fe-e714-4090-b529-dfca8b12f1ce"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="da82d37f-8f28-4cdf-8932-558a04b6ea91"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.25" searchProperties="true" id="1b306a7e-daba-46ad-9632-d871e5674602"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="89f9fa3a-aaa3-4386-ab01-68ceca4585fe"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="16665dcc-1410-4ba2-8ebb-17e2d9e1685c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/mqtt",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="ad11bec0-d235-4003-b045-794739890e8a"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="fc42b161-a88f-4672-bdeb-70cc72be6769"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="6527ee06-725b-4b93-b095-b9bd3d0d5907"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="d9508c7e-7d97-4c88-b10e-90c04c90d845"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/sigfoxDev", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="0827ba9f-f697-4941-bcc9-7aab166e558a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.26" searchProperties="true" id="7517d3fb-88ae-4f3c-813c-9c9235171461"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="380457cd-3934-4107-9c72-8df5b2f7be62"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.27" searchProperties="true" id="b415f0f0-dbba-46e8-9abf-fc33418d6e14"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="f9dcdf1d-071b-4537-99a7-de053f654ee3"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="9203ba26-b2e3-4ca6-af66-fd9f26c9b563"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="647d115f-48b4-4831-914c-d1166f533ca8"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="a0a0358e-9aad-4365-94ae-b1c6bc72a19a"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="2d71abfc-89a6-46d6-8301-16a513491d9f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="541daaad-ec5d-446a-af3d-472be6d7a0c8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="4166f4ac-7884-45b6-96b6-8625739b030e"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.28" searchProperties="true" id="87a458f8-9634-4dc8-a19e-de306addb704"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="254b2c35-c4a4-42cd-b69d-c5d119e2bf29"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="4cbe1e37-221c-4bae-8377-1782be08d100"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="0bdd42cf-7d75-4af8-a754-1f2394a10a37"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="6c609c29-dfd9-4176-851f-42def4a23d62"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="dec8ee3a-cf84-4122-9707-dbb39c7d601e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="e01e8f22-c710-41af-9554-fd986ab33ffd"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="8954def2-9436-4071-a48d-6cc2f3c5e1de"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.29" searchProperties="true" id="536104ee-97de-4e8f-ad38-8758d3355c3f"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="506b573a-89d0-4b9c-bc8f-c9ce1a167208"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="9cccd6e1-7f2c-42ca-bef8-bcce422893cd"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="a75ccbb6-4a86-480d-938e-e26d29fc10cc"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="cd1993a5-9d6a-45de-a341-022ccf7028ad"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="18ab7234-c3f4-4c74-a0ab-5c81e98fb4e5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="1819751f-6bd2-47ce-a62c-75c41000915d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="c7cfbe05-3300-4e8f-a236-743ba025666c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.30" searchProperties="true" id="ae9cf8bf-1ca1-4260-8c85-fe9367f41879"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="8ecb69dc-32bc-45b8-8be8-9a19d18e2fea"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="d6a4efdb-8b4a-40de-9ddc-b0bb63a26de8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="21ee8ba2-fc61-4e61-a313-d1868427e0e5"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="758e08a4-e2b4-40ee-8bf5-50d7dbd84358"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="f4c9482d-342a-434e-8729-3aec80354ff2"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="02922a96-6f6c-4e7b-9953-de3dd1d6b6ea"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="6fcca4fc-87f5-49e3-a4fd-8966873033f1"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.31" searchProperties="true" id="7e075452-5a54-42e6-bf02-9fb2976ac1ea"><con:settings/><con:testStep type="restrequest" name="Sanity check" id="db9e30e9-034f-48f2-99d2-5eb20b288636"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Checking the administrative interface is up" resourcePath="/iot/about" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sanity check" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/sigfoxDev"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.32" searchProperties="true" id="e84c2989-04f5-498f-9324-516dc3eef68d"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="e00a8c31-77c1-4f42-b77f-623544d891c8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.33" searchProperties="true" id="079dedb8-c133-4801-8a9d-766dec988c80"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="1bb675bb-c234-4767-9c4a-0e827b73da17"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="ad824241-594a-4450-a6d7-932292866fb2"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/lwm2m",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="811b1be3-bfa1-4f4c-99e5-817133d427bc"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="96d2956b-5328-4d80-a64f-a211ec5f5e5a"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/lwm2m</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="07cf7d71-8e57-40a0-b84e-661a6f3e4a08"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="bcd3dbb1-d7af-4b37-b38c-a8774c34f06c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/lwm2m", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="84337e42-a295-45e1-92e0-ab06ac38c5b8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.34" searchProperties="true" id="37054dda-dcfc-4034-b12a-49d7d945fab5"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="a2772951-d771-42ab-918f-673fdf397b1c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="7716b886-71d8-4287-adf6-46199f98f5a9"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/lwm2m",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="6f16e323-aa62-4e94-a880-0e3cf264f4ad"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="2541ebf3-286f-4302-b21e-c99a24d096b7"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/lwm2m</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="e535490c-7a51-4c72-966a-cb0a627607da"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="f165fe82-8c5e-4623-a96c-804f42f73e49"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/lwm2m", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="0639e4ab-1dd0-4456-ab19-9167acd6fc40"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.35" searchProperties="true" id="508b3784-22bc-411f-983d-ed01c99d83b8"><con:settings/><con:testStep type="restrequest" name="Retrieve a service" id="9e3ab8e6-5171-4a9d-877f-51371c527344"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="02809ab8-0d23-4b52-91dd-efc6df5b75f7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "services": [
        {
            "resource": "/lwm2m",
            "apikey": "23HJK3Y9090DSFL173209HV8801231",
            "entity_type": "MQTT",
            "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS",
            "cbHost": "http://161.27.159.150:1026",
            "commands": [
                {
                    "name": "wheel1",
                    "type": "Wheel"
                }
            ],
            "lazy": [
                {
                    "name": "luminescence",
                    "type": "Lumens"
                }
            ],
            "active": [
                {
                    "name": "status",
                    "type": "Boolean"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="6a58ad3a-683c-4b65-aa3c-c48a9cbaef9e"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(55)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="9d060631-a4ec-4430-b5d7-4f6c5e33eecd"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/lwm2m</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="d3a8a9c4-b073-485b-bc1e-aa830a9715ab"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Update a service" id="e6326d35-5f6a-4640-92d1-93341174330d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Update Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Update a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{ "services": [ { "resource": "/lwm2m", "apikey": "23HJK3Y9090DSFL173209HV8801231", "type": "SIGFOX", "trust": "8970A9078A803H3BL98PINEQRW8342HBAMS", "cbHost": "http://161.27.159.150:1026", "commands": [ { "name": "wheel1", "type": "Wheel" } ], "lazy": [ { "name": "luminescenceUPDATED", "type": "Lumens" } ], "active": [ { "name": "status", "type": "Boolean" } ] } ] }</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="dff4495d-a81d-447d-b802-f79567e499f6"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.36" searchProperties="true" id="96311d98-7389-4c9b-92c6-639ff9faa934"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="48af8efe-7d9c-4e04-8762-b940e35d807c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.37" searchProperties="true" id="d2988ba7-ffa4-44a8-9bec-31779d533aec"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="df3a339b-dfa7-4dcd-b26c-8dfe0ec6e8a7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="d1325bf5-7aad-441e-8a5d-2c4177cf51b6"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="9ab4eb38-42b1-45d1-ae9e-8972e4c52406"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="6357e5f7-5eab-44d8-ba52-4b79563465ba"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="a98d2914-3cfa-4d89-8b03-71d12930c16b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="2c43116c-c26b-4f25-a0f0-b812714c8bb2"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="facd8bcc-c8b9-4cc0-9a11-596e18a1f634"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.38" searchProperties="true" id="a967a907-0986-4ce9-bbe3-c0818b5c7923"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="8fb81806-9a45-4be4-afcb-b43dd26d08db"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="34d7266b-c25e-4531-a019-e92964bcb09c"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="b219c70e-e122-4c78-83e9-14d643732999"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="28eacf58-7201-46bd-a1ac-f07f6249bec7"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="ab81b51f-c82d-4add-8433-14209593ae6b"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="bbe50e54-0e86-41b2-94fc-f6964aac5010"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="457c0494-0268-4e6b-87b1-387ea6cd08eb"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.39" searchProperties="true" id="f17a53e6-5cfc-4ad0-8448-0ac9626790a2"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="67119ae9-7be1-4eef-a90f-b9b60694a7a9"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="0880541f-9a9a-4016-9ed7-c9e5195f72cb"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="088b5b92-8f28-49d0-a11a-ca5cd590f7a0"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="36937b1b-648e-438f-b641-2606752ee47c"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="8d47b74f-c16a-4453-9b4e-00d72fe64c19"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="d0c11c43-049a-4df8-ba52-ae03f94c4eed"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="bd8524c7-c298-4c9b-afdc-8a0bb5795e19"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.40" searchProperties="true" id="8a1793ab-414c-4002-96f4-72156a760b88"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="f50907e0-71c6-405e-9c1c-77cb36f75b0a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="54d90c9b-2a8d-4092-b3da-ded5c739d116"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "DevID1",
            "entity_name": "TheDevice1",
            "entity_type": "DeviceType",
            "attributes": [
                {
                    "object_id": "t",
                    "name": "temperature",
                    "type": "float"
                },
                {
                    "object_id": "h",
                    "name": "humidity",
                    "type": "float"
                }
            ],
            "lazy": [
                {
                    "object_id": "l",
                    "name": "luminosity",
                    "type": "percentage"
                }
            ],
            "commands": [
                {
                    "object_id": "t",
                    "name": "turn",
                    "type": "string"
                }
            ],
            "static_attributes": [
                {
                    "name": "serialID",
                    "type": "02598347"
                }
            ],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://161.27.159.147/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="de1237a7-3924-409e-899d-a852213272fa"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="a14d52f0-f404-4692-8cc3-4cccc0f7e093"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="ff176965-e79e-4cbd-8e78-6a6a25a446b9"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a device" id="b7a958f7-1ebd-414a-8e6d-af045239a5c7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete device" id="30de5288-d612-4635-9911-6e181db6757d"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/lwm2m"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.41" searchProperties="true" id="bf3f59f8-7a8e-452f-a013-26579bf6e85c"><con:settings/><con:testStep type="restrequest" name="Create a device" id="f073c875-08cb-47e3-9697-147ed73e3394"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="dumbMordor"/>
  &lt;con:entry key="fiware-servicepath" value="/deserts"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
    "devices": [
        {
            "device_id": "sigApp2",
            "protocol": "SIGFOX",
            "entity_name": "sigApp2",
            "entity_type": "SIGFOX",
            "timezone": "America/Santiago",
            "attributes": [
                {
                    "name": "time",
                    "type": "String"
                },
                {
                    "name": "statin",
                    "type": "String"
                },
                {
                    "name": "lng",
                    "type": "String"
                },
                {
                    "name": "lat",
                    "type": "String"
                },
                {
                    "name": "theCounter",
                    "type": "Integer"
                },
                {
                    "name": "theParam1",
                    "type": "Integer"
                },
                {
                    "name": "param2",
                    "type": "Integer"
                },
                {
                    "name": "tempDegreesCelsius",
                    "type": "Integer"
                },
                {
                    "name": "voltage",
                    "type": "Integer"
                }
            ],
            "lazy": [],
            "static_attributes": [],
            "commands": [],
            "internal_attributes": [
                {
                    "mapping": "theCounter::uint:32 theParam1::uint:32 param2::uint:8 tempDegreesCelsius::uint:8 voltage::uint:16"
                }
            ]
        }
    ]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="4707de26-6fc3-4af1-b0dd-7ab83885cb9d"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="01e299f2-599a-40e6-92d0-d4fa41a8e273"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>sigApp2</con:value></con:property><con:property><con:name>resource</con:name><con:value>/iot/d</con:value></con:property><con:property><con:name>apikey</con:name><con:value>1234</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="377b4d48-24f8-4161-a985-2b903be1e965"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Send a callback to the backend" id="83feee2e-6968-4ef5-876c-6401e25b2c67"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Send a callback to the backend" resourcePath="/update" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Send a callback to the backend" id="5b007dd9-5378-4ef8-a66a-3bb52b332c4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="dumbMordor"/>
  &lt;con:entry key="fiware-servicepath" value="/deserts"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone_1}</con:endpoint><con:request/><con:originalUri>http://217.172.12.209/iot/d</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:entry key="i" value="MQTT_2"/><con:entry key="k" value="1234"/><con:entry key="d" value="a|23"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="79d17d77-2f1d-44fe-8edb-d33c8bed1f50"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.43" searchProperties="true" id="f1f85dd1-891e-41eb-a010-e17fc621e8cb"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="8b740fe1-32bd-4a45-a28d-dfce13afe098"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="eb9cae65-0e13-4a58-92d4-917708f76555"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"devices": [{
		"protocol": "GENERIC_PROTO",
		"device_id": "MQTT_2",
		"entity_name": "Second MQTT Device1",
		"entity_type": "AnMQTTDevice",
		"timezone": "America/Santiago",
		"attributes": [{
			"name": "a",
			"type": "celsius"
		}, {
			"name": "b",
			"type": "degrees"
		}]
	}]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="ef265302-9d58-4dfe-a21f-4277d0cf376b"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="fc496e13-cc8d-430a-aba4-e0efd53d7352"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>MQTT_2</con:value></con:property><con:property><con:name>resource</con:name><con:value>/iot/d</con:value></con:property><con:property><con:name>apikey</con:name><con:value>1234</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="e8e7d285-1c00-40fa-88f6-cfca6bfd7c5e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a service" id="88f61ceb-d13f-46bc-ab79-e0ad04c8f531"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="4dcddaa1-5cf7-4c26-8380-8588b9475d43"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/iot/d",
		"apikey": "1234",
		"entity_type": "MQTT_UL",
		"trust": "a463018b64a24831b2f4f9d4fe531e56",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="8c053f82-fc49-40dc-9856-6ac8ba66394e"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties 1" id="a665c213-be09-4cd7-8343-445b3d9ffbd0"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="39b663da-e5e8-4275-a753-cc92b7cc6142"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Sending a single measure with GET requests" id="114be77a-60f6-4ae1-aa14-82de22970da3"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Sending a single measure with GET requests" resourcePath="/iot/d" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sending a single measure with GET requests" id="5b007dd9-5378-4ef8-a66a-3bb52b332c4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="smartGondor"/>
  &lt;con:entry key="fiware-servicepath" value="/gardens"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone_1}</con:endpoint><con:request/><con:originalUri>http://217.172.12.209/iot/d</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><con:entry key="i" value="MQTT_2"/><con:entry key="k" value="1234"/><con:entry key="d" value="a|23"/></con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="a12fa60e-f690-458e-95e1-d0c2f9ba86f0"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="37d74ef8-5b05-4ab4-9296-4706b2e32968"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.44" searchProperties="true" id="f5138f69-8dee-417f-b278-e569ebea582b"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="21cbb401-7838-4326-b76e-1574bd093e4a"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="a1f3111d-9cb4-4942-b9f5-578ef0c49df3"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"devices": [{
		"protocol": "GENERIC_PROTO",
		"device_id": "MQTT_2",
		"entity_name": "Second MQTT Device1",
		"entity_type": "AnMQTTDevice",
		"timezone": "America/Santiago",
		"attributes": [{
			"name": "a",
			"type": "celsius"
		}, {
			"name": "b",
			"type": "degrees"
		}]
	}]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="01eef64f-4d73-499c-9bb8-d3429e089295"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="37c51514-db6a-4a6b-94ac-b2a5be850015"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>MQTT_2</con:value></con:property><con:property><con:name>resource</con:name><con:value>/iot/d</con:value></con:property><con:property><con:name>apikey</con:name><con:value>1234</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="0c419d04-bf3b-409c-abb1-f7fb23f1c0b5"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a service" id="ca388441-5c79-4149-82f3-55617fcadb82"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="ecf67216-5555-44c3-a784-c0ba9d222799"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/iot/d",
		"apikey": "1234",
		"entity_type": "MQTT_UL",
		"trust": "a463018b64a24831b2f4f9d4fe531e56",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="6bb8cde5-b23c-4c2d-a43f-99e8a515db2a"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties 1" id="1023a30d-bef7-4600-94f8-19dd3b75b521"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="06aebc4b-c785-407e-b5cb-bf17e235db81"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Sending multiple measure with GET requests" id="3437cb9b-edaa-4c8a-bd2e-f3d07b42e525"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Sending a single measure with GET requests" resourcePath="/iot/d" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sending multiple measure with GET requests" id="5b007dd9-5378-4ef8-a66a-3bb52b332c4a" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="smartGondor"/>
  &lt;con:entry key="fiware-servicepath" value="/gardens"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone_1}</con:endpoint><con:request/><con:originalUri>http://217.172.12.209/iot/d</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="d" value="a|23|b|98"/>
  <con:entry key="k" value="1234"/>
  <con:entry key="i" value="MQTT_2"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="1c4a66f1-3819-495b-bf81-eb21bef9656b"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="5041505c-d6f6-4478-a651-67e2224bdae7"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.45" searchProperties="true" id="ba1c9230-731b-47ca-a81c-5d83248652de"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="7f2a6a01-fbe1-4657-b173-d11592bcb041"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="b46f83e3-a011-4033-846a-9fee836d9e95"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"devices": [{
		"protocol": "GENERIC_PROTO",
		"device_id": "MQTT_2",
		"entity_name": "Second MQTT Device1",
		"entity_type": "AnMQTTDevice",
		"timezone": "America/Santiago",
		"attributes": [{
			"name": "a",
			"type": "celsius"
		}, {
			"name": "b",
			"type": "degrees"
		}]
	}]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="c2b93914-caf9-4a1d-a148-6f3ac51eb916"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="bc2a91b6-c4af-427b-8c2d-e4d0fed5847a"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>MQTT_2</con:value></con:property><con:property><con:name>resource</con:name><con:value>/iot/d</con:value></con:property><con:property><con:name>apikey</con:name><con:value>1234</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="1dfe470d-7960-4fb7-9925-29ae28f7ee2f"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a service" id="6af7e9ee-261a-4e6f-bdf2-e568b5a21f58"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="32f0cb3c-4c24-44ce-973d-f681c7b907fb"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/iot/d",
		"apikey": "1234",
		"entity_type": "MQTT_UL",
		"trust": "a463018b64a24831b2f4f9d4fe531e56",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="f047b334-f12f-44a9-be55-546efa2923c6"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties 1" id="d549ccb7-9daa-4022-b8a6-b9aaf25502c8"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="7106f380-8621-4998-93d9-9b7930406065"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Sending a single measure with POST requests" id="94bb1bfe-8265-43a1-9738-138c0852be65"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Sending a single measure with POST requests" resourcePath="/iot/d" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sending a single measure with POST requests" id="5b007dd9-5378-4ef8-a66a-3bb52b332c4a" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="smartGondor"/>
  &lt;con:entry key="fiware-servicepath" value="/gardens"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone_1}</con:endpoint><con:request>a|25</con:request><con:originalUri>http://217.172.12.209/iot/d</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="d" value="a|23|b|98"/>
  <con:entry key="k" value="1234"/>
  <con:entry key="i" value="MQTT_2"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="a7ce96a6-8dc6-4a0c-8fe7-10418b741676"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="4aa1064c-54a2-4ae1-85e3-a6f2c0134729"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:testCase failOnError="true" failTestCaseOnErrors="true" keepSession="false" maxResults="0" name="FI.IOT.DM.API.46" searchProperties="true" id="8ac22c46-facf-4aa9-9aa4-6f7040ae63ed"><con:settings/><con:testStep type="restrequest" name="Retrieve all devices" id="361f6236-03bb-4539-8b12-3a9bc7b65de4"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve all devices" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve all devices" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a device" id="63ca3da9-7bb7-4a39-a31d-bcccc8216257"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a device" resourcePath="/iot/devices" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a device" id="dce01733-f992-40be-a95c-f4c26623e9b3" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"devices": [{
		"protocol": "GENERIC_PROTO",
		"device_id": "MQTT_2",
		"entity_name": "Second MQTT Device1",
		"entity_type": "AnMQTTDevice",
		"timezone": "America/Santiago",
		"attributes": [{
			"name": "a",
			"type": "celsius"
		}, {
			"name": "b",
			"type": "degrees"
		}]
	}]
}</con:request><con:originalUri>http://217.172.12.209/iot/devices</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Copy of Groovy Script" id="ebf6b3fc-fc1b-43ee-b171-00f443557034"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a device"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value4=value.toString()


indice =value4.indexOf('device_id')
indice = indice +13
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     
       

groovyUtils.setPropertyValue("Properties", "device", value4.toString())

</script></con:config></con:testStep><con:testStep type="properties" name="Properties" id="3bd11c4e-c91f-43ad-938f-c323f3f69092"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>device</con:name><con:value>MQTT_2</con:value></con:property><con:property><con:name>resource</con:name><con:value>/iot/d</con:value></con:property><con:property><con:name>apikey</con:name><con:value>1234</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer" id="28c9c568-c02b-42bc-93a2-e043f4d7ee0e"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" transferChildNodes="false" ignoreEmpty="false" transferToAll="false" entitize="false"><con:name>device</con:name><con:sourceType>device</con:sourceType><con:sourceStep>Properties</con:sourceStep><con:targetType>device</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Retrieve a service" id="0d4aa185-361d-4c76-8dde-8d8d43f2d0e8"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Retrieve a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Retrieve a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value=" /mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Create a service" id="7c17015b-e0bb-48e2-8f8d-10d0404b64ed"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Create a service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Create a service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request>{
	"services": [{
		"resource": "/iot/d",
		"apikey": "1234",
		"entity_type": "MQTT_UL",
		"trust": "a463018b64a24831b2f4f9d4fe531e56",
		"cbHost": "http://161.27.159.150:1026",
		"commands": [{
			"name": "wheel1",
			"type": "Wheel"
		}],
		"lazy": [{
			"name": "luminescence",
			"type": "Lumens"
		}],
		"active": [{
			"name": "status",
			"type": "Boolean"
		}]
	}]
}</con:request><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters/></con:restRequest></con:config></con:testStep><con:testStep type="groovy" name="Groovy Script" id="89b5e6a0-cbea-4947-90f7-f96a2c4ebd1e"><con:settings/><con:config><script>def value = testRunner.testCase.testSteps["Create a service"].testRequest.response.getRequestContent()
def groovyUtils = new com.eviware.soapui.support.GroovyUtils( context )


def value2=value.toString()

value2= value2.substring(33)  
indice =value2.indexOf('"')
value3=value2.substring(indice)     
value2=value2-value3        
       

groovyUtils.setPropertyValue("Properties", "resource", value2.toString())

def value4=value.toString()


indice =value4.indexOf('y')
indice = indice +5
value4= value4.substring(indice)
indice2 =value4.indexOf('"')

value5=value4.substring(indice2)     
value4=value4-value5     

groovyUtils.setPropertyValue("Properties", "apikey", value4.toString())</script></con:config></con:testStep><con:testStep type="properties" name="Properties 1" id="072cf3c6-180f-4d61-ab74-d7b8b2c2d195"><con:settings/><con:config xsi:type="con:PropertiesStep" saveFirst="true" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:properties><con:property><con:name>resource</con:name><con:value>/mqtt_ul</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property></con:properties></con:config></con:testStep><con:testStep type="transfer" name="Property Transfer Apikey" id="faebc582-761f-44a5-bf42-13af37580157"><con:settings/><con:config xsi:type="con:PropertyTransfersStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="false" disabled="false"><con:name>apikey</con:name><con:sourceType>apikey</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>apikey</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XQUERY</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers><con:transfers setNullOnMissingSource="true" transferTextContent="true" failOnError="true" ignoreEmpty="false" transferToAll="false" entitize="false" transferChildNodes="true"><con:name>resource</con:name><con:sourceType>resource</con:sourceType><con:sourceStep>Properties 1</con:sourceStep><con:sourcePath/><con:targetType>resource</con:targetType><con:targetStep>#TestSuite#</con:targetStep><con:type>XPATH</con:type><con:targetTransferType>XPATH</con:targetTransferType><con:upgraded>true</con:upgraded></con:transfers></con:config></con:testStep><con:testStep type="restrequest" name="Sending multiple measures with POST requests" id="02523769-cccc-47fd-b5c8-ee54748c3485"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Sending a single measure with POST requests" resourcePath="/iot/d" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Sending multiple measures with POST requests" id="5b007dd9-5378-4ef8-a66a-3bb52b332c4a" mediaType="text/xml" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="smartGondor"/>
  &lt;con:entry key="fiware-servicepath" value="/gardens"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone_1}</con:endpoint><con:request>a|23#b|98</con:request><con:originalUri>http://217.172.12.209/iot/d</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="d" value="a|23|b|98"/>
  <con:entry key="k" value="1234"/>
  <con:entry key="i" value="MQTT_2"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete service" id="20223026-ab0c-45af-bc82-725534d25ae6"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete Service" resourcePath="/iot/services" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete service" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters>
  <con:entry key="resource" value="${#TestSuite#resource}"/>
  <con:entry key="apikey" value="${#TestSuite#apikey}"/>
</con:parameters></con:restRequest></con:config></con:testStep><con:testStep type="restrequest" name="Delete a device" id="6039fdab-30fa-4691-aefe-86632e93074b"><con:settings/><con:config service="BackendDeviceManagement_Services" methodName="Delete device" resourcePath="/iot/devices/{device}" xsi:type="con:RestRequestStep" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><con:restRequest name="Delete a device" id="54ddf751-69c1-46a4-b0a0-97743395bea8" mediaType="application/json" postQueryString="false"><con:settings><con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment xmlns:con="http://eviware.com/soapui/config">
  &lt;con:entry key="fiware-service" value="service"/>
  &lt;con:entry key="fiware-servicepath" value="/mqtt_ul"/>
&lt;/xml-fragment></con:setting></con:settings><con:encoding>UTF-8</con:encoding><con:endpoint>${#TestSuite#endpoint_keystone}</con:endpoint><con:request/><con:originalUri>http://161.27.159.147/iot/services</con:originalUri><con:credentials><con:authType>No Authorization</con:authType></con:credentials><con:jmsConfig JMSDeliveryMode="PERSISTENT"/><con:jmsPropertyConfig/><con:parameters><entry key="device" value="${#TestSuite#device}" xmlns="http://eviware.com/soapui/config"/></con:parameters></con:restRequest></con:config></con:testStep><con:properties/></con:testCase><con:properties><con:property><con:name>endpoint_keystone</con:name><con:value>http://217.172.12.209:4041</con:value></con:property><con:property><con:name>apikey</con:name><con:value>23HJK3Y9090DSFL173209HV8801231</con:value></con:property><con:property><con:name>resource</con:name><con:value>/lwm2m</con:value></con:property><con:property><con:name>device</con:name><con:value>DevID1</con:value></con:property><con:property><con:name>endpoint_keystone_1</con:name><con:value>http://217.172.12.209:8000</con:value></con:property></con:properties></con:testSuite><con:properties><con:property><con:name>apikey</con:name><con:value>apikey</con:value></con:property></con:properties><con:wssContainer/><con:oAuth2ProfileContainer/><con:sensitiveInformation/></con:soapui-project>